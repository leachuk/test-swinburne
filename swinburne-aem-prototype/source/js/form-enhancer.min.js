window.console||(window.console={}),window.console.log||(window.console.log=function(){}),function(e){e.widget("custom.catcomplete",e.ui.autocomplete,{_create:function(){this._super(),this.widget().menu("option","items","> :not(.ui-autocomplete-category)")},_renderMenu:function(t,a){var n=this,r="";e.each(a,function(e,a){var i;a.category!=r&&(t.append("<li class='ui-autocomplete-category'>"+a.category+"</li>"),r=a.category),i=n._renderItemData(t,a),a.category&&i.attr("aria-label",a.category+" : "+a.label)})}})}(jQuery);var FormEnhancer={utils:{matchFieldSelection:function(e,t,a,n,r){a=a.replace(/'/g,'"'),r=r.replace(/'/g,'"');var i=t.is(":checkbox")||t.is(":radio"),o=i?t.filter(":checked"):t,s=$("<div>");return o.each(function(){var t=$("<a>"),n="";if("value"==a.substr(0,5))n=$(this).val();else if("label"==a.substr(0,5)){var r=$(this).attr("id"),o='option[value="'+$(this).val()+'"]';i&&void 0!=r&&(o+=', label[for="'+r+'"]'),n=e.find(o).html()}else n=$(this).is("select")?$(this).children('option[value="'+$(this).val()+'"]').attr(a):$(this).attr(a);t.attr(a,n),s.append(t)}),s.children("a["+a+n+r+"]").length>0},replaceSpecialSelectors:function(e,t){return e=e.replace(/{([a-z0-9-]+)}/g,function(e,a){var n=!1;switch(a){case"this-step":n=FormEnhancer.fn.step.getStepForElement(t);break;case"last-step":n=FormEnhancer.fn.step.getStepForElement(t).prevUntil("*[data-fe-step]").last().prev()}var r=n.attr("id");if(!r){for(;!r||$(r).length>0;)r="fe-tempid-"+Math.floor(1e5*Math.random());n.attr("id",r)}return"#"+r})},hasSessionStorage:function(){var e="test",t=window.sessionStorage;try{return t.setItem(e,"1"),t.removeItem(e),!0}catch(e){return _dmp.user.can_store=!1,!1}},queryStringToObject:function(e){if(""==e)return{};for(var t={},a=e.split("&"),n=0;n<a.length;n++){var r=a[n].split("=");if(r[0]=decodeURIComponent(r[0].replace(/\+/g," ")),2==r.length?r[1]=decodeURIComponent(r[1].replace(/\+/g," ")):r[1]=!0,void 0===t[r[0]])t[r[0]]=r[1];else if("string"==typeof t[r[0]]){var i=[t[r[0]],r[1]];t[r[0]]=i}else t[r[0]].push(r[1])}return t},setField:function(e,t){e.is(":checkbox")||e.is(":radio")?e.filter('[value="'+t+'"]').prop("checked",!0).trigger("fe-change"):e.val(t).trigger("fe-change")},setFieldWithLabel:function(e,t){e.is("select")&&e.children("option").each(function(){if($(this).html()==t)return e.val($(this).attr("value")),!0})},getChosenElementsInForm:function(e){try{for(var t=e.serializeArray(),a=[],n=0;n<t.length;n++){var r=FormEnhancer.utils.getChosenElementsByNameAndValue(e,t[n].name,t[n].value);a=a.concat(r)}}catch(e){}return a},getChosenElementsByNameAndValue:function(e,t,a){var n=[];return e.find(':input[name="'+t+'"]').each(function(){if($(this).is(":disabled"))return!0;var e=$(this);if(e.is(":checkbox")||e.is(":radio"))e.attr("value")==a&&n.push({name:t,value:a,element:e});else if(e.is("select")){var r=e.children('option[value="'+a+'"]');r.length>0&&n.push({name:t,value:a,element:r})}else n.push({name:t,value:a,element:e})}),n}},fn:{prepareForms:{ready:function(e,t){if(e.attr("id"))$("form[id]").each(function(){var e=$('[id="'+this.id+'"]');if(e.length>1&&e[0]==this)throw"FormEnhancer: You have two forms with the same ID '"+this.id+"' - this is invalid HTML, please change the forms to use unique IDs"});else for(var a=0;a<10;a++){var n="fe-form"+a;if(0==$("#"+n).length){e.attr("id",n);break}}e.find(":input").each(function(){"disabled"==$(this).attr("disabled")&&$(this).prop("disabled",!1)})}},enhanceJQuery:{ready:function(e,t){$.extend($.expr[":"],{input_editable:function(e){return $(e).is(':input:not(button, input[type="submit"], :disabled, input[type="hidden"])')},input_not_editable:function(e){return $(e).is('button, input[type="submit"], input[type="hidden"], :disabled')},input_never_editable:function(e){return $(e).is('button, input[type="submit"], input[type="hidden"]')},input_with_memory:function(e){return $(e).is(':input[type="text"], :input[type="tel"], :input[type="email"], :input[type="url"], textarea')}})}},submitProcess:{ready:function(e,t){FormEnhancer.fn.submitProcess.beforeSubmit.set(e,[]),e.submit(function(){return FormEnhancer.fn.submitProcess.submit(e)}),t.hasOwnProperty("beforeSubmit")&&FormEnhancer.fn.submitProcess.beforeSubmit.add(e,t.beforeSubmit)},submit:function(e){return!1!==FormEnhancer.fn.submitProcess.beforeSubmit.call(e)&&FormEnhancer.fn.submitProcess.submitHandler.call(e)},removeSubmitCallback:function(e){e.unbind("submit")},beforeSubmit:{get:function(e){return e.data("fe-submit-before")},set:function(e,t){e.data("fe-submit-before",t)},add:function(e,t){var a=FormEnhancer.fn.submitProcess.beforeSubmit.get(e);a.push(t),FormEnhancer.fn.submitProcess.beforeSubmit.set(e,a)},call:function(e){for(var t=FormEnhancer.fn.submitProcess.beforeSubmit.get(e),a=0;a<t.length;a++)if(!1===t[a](e))return!1;return!0}},submitHandler:{set:function(e,t){e.data("fe-submit-handler",t)},call:function(e){var t=e.data("fe-submit-handler");return"function"!=typeof t||t(e)}}},ajaxform:{ready:function(e,t){if(t.hasOwnProperty("ajaxform")){if(!$.fn.ajaxForm)throw"FormEnhancer: tried to initialise 'ajaxform' utility, but the required ajaxForm plugin 'jquery.form.min.js' was not found.";FormEnhancer.fn.submitProcess.submitHandler.set(e,function(){return e.ajaxSubmit(t.ajaxform),!1})}}},validate:{ready:function(e,t){if(t.hasOwnProperty("validate")){if(!$.fn.validate)throw"FormEnhancer: tried to initialise 'validate' utility, but the required validation plugin 'jquery.validate.min.js' was not found.";var a,n=t.validate;!0===n&&(n={}),n.hasOwnProperty("errorPlacement")||(n.errorPlacement=function(t,a){var n=a.is(":checkbox")||a.is(":radio"),r=a.closest("fieldset");if(r.length>0&&"true"==r.attr("data-fe-validate-as-group")&&(n=!0),n)if(r.length>0)r.append(t);else{var i=e.find(':input[name="'+a.attr("name")+'"]:last');i.next().is("label")&&(i=i.next()),t.insertAfter(i)}else t.insertAfter(a);void 0!==a.attr("data-fe-validate-error-css")&&t.attr("style",a.attr("data-fe-validate-error-css"))}),n.validClass="validate-valid",n.errorClass="validate-error",jQuery.extend(jQuery.validator.messages,{url:"Please enter a valid URL, beginning with 'http://'."}),0==$("#fe-validate-style").length&&$("head").append('<style id="fe-validate-style">label.validate-error { color: #D9534F; }</style>'),FormEnhancer.fn.submitProcess.removeSubmitCallback(e),n.submitHandler=function(e){FormEnhancer.fn.submitProcess.submit($(e))&&e.submit()},a=e.validate(n),e.data("fe-validate",a),jQuery.validator.addClassRules("required-atar",{required:!0,number:!0,range:[0,100]})}}},ckeditor:{ready:function(e,t){!0===t.ckeditor&&FormEnhancer.fn.submitProcess.beforeSubmit.add(e,function(){for(instance in CKEDITOR.instances)CKEDITOR.instances[instance].updateElement()})}},step:{classNames:{valid:"is-valid",complete:"is-complete",validAndIncomplete:"is-valid-and-incomplete",validAndComplete:"is-valid-and-complete",hasNextButton:"has-next-button",hasSubmitButton:"has-submit-button"},vars:{userInputCount:0},ready:function(e,t){e.find("*[data-fe-step]").each(function(){var e=$(this),t=e.find('*[data-fe-step="next-button"]');t.length>0&&(e.addClass(FormEnhancer.fn.step.classNames.hasNextButton),t.addClass("fe-next-button").click(function(){return FormEnhancer.fn.step.completeStep(e),!1})),e.find('*[type="submit"]').length>0&&e.addClass(FormEnhancer.fn.step.classNames.hasSubmitButton),e.find(":input").bind("change paste fe-change",function(){FormEnhancer.fn.step.checkIfStepIsValid(e)}).bind("keyup",function(){FormEnhancer.fn.step.vars.userInputCount++;var t=FormEnhancer.fn.step.vars.userInputCount;setTimeout(function(){FormEnhancer.fn.step.vars.userInputCount==t&&FormEnhancer.fn.step.checkIfStepIsValid(e)},500)}),FormEnhancer.fn.step.checkIfStepIsValid(e)})},getFormForElement:function(e){return e.closest("form")},getStepForElement:function(e){return e.closest("*[data-fe-step]")},checkIfStepIsValid:function(e){var t=FormEnhancer.fn.step.getFormForElement(e).data("fe-validate"),a=!0;e.hasClass("fe-hidden")&&(a=!1),e.find(":input_editable").each(function(){!0,t.check(this)||(a=!1,!1)}),a?(FormEnhancer.fn.step.validStep(e),e.hasClass(FormEnhancer.fn.step.classNames.hasNextButton)||e.hasClass(FormEnhancer.fn.step.classNames.hasSubmitButton)||FormEnhancer.fn.step.completeStep(e)):FormEnhancer.fn.step.invalidStep(e)},validStep:function(e){e.addClass(FormEnhancer.fn.step.classNames.valid),FormEnhancer.fn.step.updateStepComboClasses(e),FormEnhancer.fn.step.getFormForElement(e).trigger("fe-update")},invalidStep:function(e){e.removeClass(FormEnhancer.fn.step.classNames.valid),FormEnhancer.fn.step.updateStepComboClasses(e),FormEnhancer.fn.step.getFormForElement(e).trigger("fe-update")},completeStep:function(e){e.addClass(FormEnhancer.fn.step.classNames.complete),FormEnhancer.fn.step.updateStepComboClasses(e),FormEnhancer.fn.step.getFormForElement(e).trigger("fe-update")},updateStepComboClasses:function(e){var t=e.hasClass(FormEnhancer.fn.step.classNames.valid),a=e.hasClass(FormEnhancer.fn.step.classNames.complete);e.removeClass(FormEnhancer.fn.step.classNames.validAndIncomplete).removeClass(FormEnhancer.fn.step.classNames.validAndComplete),t&&a&&e.addClass(FormEnhancer.fn.step.classNames.validAndComplete),t&&!a&&e.addClass(FormEnhancer.fn.step.classNames.validAndIncomplete)}},showOrHide:{ready:function(e,t){e.find("*[data-fe-show-when], *[data-fe-hide-when]").each(function(){var t,a=$(this),n=!!a.attr("data-fe-show-when");t=n?a.attr("data-fe-show-when"):a.attr("data-fe-hide-when"),a.data("fe-show-hide-states",{}),t=FormEnhancer.utils.replaceSpecialSelectors(t,a),attrs=t.split(/&&|\|\|/g);var r="";attrs.length>1&&(r=0==t.indexOf(attrs[0]+"||")?"or":"and");for(var i=function(e,t,a,n,r){var i=t.data("fe-show-hide-states");i[e]=a;var o=!0,s=!1;for(var c in i)i[c]?s=!0:o=!1;a=o==n;"or"==r&&(a=s==n),a?FormEnhancer.fn.showOrHide.show(t):FormEnhancer.fn.showOrHide.hide(t)},o=0;o<attrs.length;o++){!function(t){var o=!1;if(t.replace(/(.+)\[([^\|\*~\$!\^]+)(.?=)(.+)]/g,function(s,c,l,d,p){var u=e.find(':input[name="'+c+'"]'),m=function(){i(t,a,FormEnhancer.utils.matchFieldSelection(e,u,l,d,p),n,r)};u.bind("change fe-change",function(e){m()}),m(),o=!0}),!o){var s=function(){i(t,a,$(t).length>0,n)};e.bind("fe-update",function(){s()}),s()}}(attrs[o].replace(/^[\s\xA0]+|[\s\xA0]+$/g,""))}})},hide:function(e){e.hasClass("fe-hidden")||(e.addClass("fe-hidden"),"false"!=e.attr("data-fe-hide-and-disable")&&e.find(":input").addBack().prop("disabled",!0),FormEnhancer.fn.step.checkIfStepIsValid(FormEnhancer.fn.step.getStepForElement(e)))},show:function(e){e.hasClass("fe-hidden")&&(e.removeClass("fe-hidden").find(":input").addBack().prop("disabled",!1),"false"!=e.attr("data-fe-hide-and-disable")&&e.find(".fe-hidden :input, :input.fe-hidden").prop("disabled",!0),FormEnhancer.fn.step.checkIfStepIsValid(FormEnhancer.fn.step.getStepForElement(e)))}},clickToShow:{ready:function(e,t){e.find("*[data-fe-click-to-show]").each(function(){var e=$(this),t=!1;if(e.find(":input_editable").each(function(){if(""!=$(this).val())return t=!0,!1}),!t){var a=$('<a href="#">').click(function(){return $(this).hide(),e.fadeIn(),!1});a.html(e.attr("data-fe-click-to-show"));var n=$("<p>").append(a);e.hide().before(n)}})}},DMPersonalise:{ready:function(e,t){"undefined"!=typeof DMPersonalise&&e.find("*[data-fe-dmp-get]").each(function(){switch($(this).attr("data-fe-dmp-get")){case"cmpgn":var e=DMPersonalise.dataTypes.cmpgn.getString(),t=$(this).attr("maxlength");t&&e.length>t&&(e=e.substring(0,t-1)),$(this).val(e)}})}},autocomplete:{ready:function(e,t){},apply:function(e,t,a){e.autocomplete({source:t})}},catcomplete:{ready:function(e,t){},apply:function(e,t,a){var n={};a.hasOwnProperty("catcomplete")&&(n=a.catcomplete),n.source=t,e.catcomplete(n),e.keyup(function(e){13===e.which&&$("body > .ui-autocomplete").hide()})}},combobox:{ready:function(e,t){e.find("select[data-fe-combobox]").each(function(){FormEnhancer.fn.combobox.apply($(this))}),t.hasOwnProperty("combobox")&&t.combobox()},apply:function(e){e.addClass("combobox-select").combobox({select:function(e,t){var a=$(t.item).parent().next().children(":input");a.trigger("select"),setTimeout(function(){a.blur()},20)}});var t=e.next().children(":input");t.attr("placeholder","Begin typing for options"),e.attr("required")&&t.attr("required","required"),$("#combobox-style").remove(),$("head").append('<style id="combobox-style">html.touch .combobox-select {display: block !important;}html.touch .custom-combobox {display:none;}</style>')},change:function(e,t){var a=e.next().children(":input");a.bind("change keyup",function(){t(e,a,a.val())}).bind("select",function(){t(e,a,e.val())})}},datepicker:{ready:function(e,t){e.find("*[data-fe-datepicker]").each(function(){$(this).datepicker({navigationAsDateFormat:!0,nextText:'<span class="fa fa-angle-right"></span>',prevText:'<span class="fa fa-angle-left"></span>',dateFormat:"dd/mm/yy"})})}},dynamicData:{getData:{courses:function(e,t){-1==(t=(t=(t=void 0===t?"":"&"+t).replace(/SearchType=/,"ResidencyId=")).replace(/AccreditationStatus=/,"AccreditationStatusId=")).indexOf("&m=")?t+="&m=define_fields_to_return&m_fields=CourseTitle&m_flatten=1":(t=t.replace(/&m=([^&]*)/,function(e){return e+",define_fields_to_return"}),t+="&m_fields=CourseTitle&m_flatten=1"),$.getJSON("//www.swinburne.edu.au/cwis/php_pages/webapps/marketing/coursesearch-v2/system/api/json/?q=all_courses&c=read,write&callback=?"+t,function(t){t.success&&e(t.response.SearchResultsList)})},coursekeywords:function(e,t){t=void 0===t?"":"&"+t,$.getJSON("//www.swinburne.edu.au/cwis/php_pages/webapps/marketing/lists/api/?list=coursekeywords&onlyvalues=true&callback=?"+t,function(a){var n=[];if(a.success){for(var r=a.response,i=0;i<r.length;i++)n.push({label:r[i],category:""});e(n)}$.getJSON("//www.swinburne.edu.au/cwis/php_pages/webapps/marketing/coursesearch-v2/system/api/json/?q=course_search&m=define_fields_to_return&m_fields=CourseTitle&m_flatten=1&c=read,write&callback=?"+t,function(t){if(t.success)for(var a=t.response.SearchResultsList,r=0;r<a.length;r++)n.push({label:a[r],category:"Courses"});e(n)})})},schools:function(e,t){t=void 0===t?"":"&"+t,$.getJSON("//www.swinburne.edu.au/cwis/php_pages/webapps/marketing/lists/api/?list=schools&onlyvalues=true&callback=?"+t,function(t){t.success&&e(t.response)})},countries:function(e,t){t=void 0===t?"":"&"+t,$.getJSON("//www.swinburne.edu.au/cwis/php_pages/webapps/marketing/lists/api/?list=countries&onlyvalues=true&callback=?"+t,function(t){t.success&&e(t.response)})}},applyInputType:{select:function(e,t){if(!e.is("select")){var a={};$.each(e[0].attributes,function(e,t){a[t.nodeName]=t.nodeValue});var n=$("<select />",a);n.append(e.contents()),e.replaceWith(n),e=n}for(var r='<option value="">Please select</option>',i=0;i<t.length;i++)r+='<option value="'+t[i]+'">'+t[i]+"</option>";return e.html(r),n},autocomplete:function(e,t,a){FormEnhancer.fn.autocomplete.apply(e,t,a)},catcomplete:function(e,t,a){FormEnhancer.fn.catcomplete.apply(e,t,a)},combobox:function(e,t,a){var n=FormEnhancer.fn.dynamicData.applyInputType.select(e,t,a);FormEnhancer.fn.combobox.apply(n)}},ready:function(e,t){e.find("*[data-fe-dynamic]").each(function(){var e=$(this),a=e.attr("data-fe-dynamic"),n=e.attr("data-fe-dynamic-input"),r=e.attr("data-fe-dynamic-query");if(!n)throw"FormEnhancer: Attribute 'data-fe-dynamic-data-input' must be defined on input with attribute 'data-fe-dynamic-data'='"+a+"'";if(!FormEnhancer.fn.dynamicData.applyInputType.hasOwnProperty(n))throw"FormEnhancer: Value of attribute 'data-fe-dynamic-data-input' is not a valid input type on input with attribute 'data-fe-dynamic-data'='"+a+"'";FormEnhancer.fn.dynamicData.getData[a](function(a){FormEnhancer.fn.dynamicData.applyInputType[n](e,a,t)},r)})}},preFill:{ready:function(e,t){this.fromDMPersonalise(e,t),t.hasOwnProperty("preFill")&&this.set(e,t.preFill),this.fromHash(e,t)},fromHash:function(e,t){if(window.location.hash){var a=e.attr("id"),n=window.location.href.split("#")[1];if(a&&a+":"==n.substr(0,a.length+1)){var r=n.substr(a.length+1),i=FormEnhancer.utils.queryStringToObject(r);this.set(e,i),i.submit&&e.submit()}}},fromDMPersonalise:function(e,t){"undefined"!=typeof DMPersonalise&&e.find(":input[data-dmp-preselect]").each(function(){if($(this).is(":radio")||$(this).is(":checkbox")){var e=$(this).attr("data-dmp-preselect"),t=DMPersonalise.user.getItem(e),a=$(this).attr("data-dmp-preselect-when");void 0!==a&&null!==t&&a==t&&$(this).prop("checked",!0).trigger("fe-change"),$(this).click(function(){DMPersonalise.user.setItem(e,a)})}if($(this).is("select")){var n=$(this);e=n.attr("data-dmp-preselect"),t=DMPersonalise.user.getItem(e);n.children("option[data-dmp-preselect-when]").each(function(){var e=$(this).attr("data-dmp-preselect-when");if(void 0!==e&&null!==t&&e==t)return FormEnhancer.utils.setField(n,$(this).val()),!1}),$(this).change(function(){var t=$(this).children('option[value="'+$(this).val()+'"][data-dmp-preselect-when]');t.length>0&&DMPersonalise.user.setItem(e,t.attr("data-dmp-preselect-when"))})}})},set:function(e,t){for(var a in t){var n=t[a];if("string"==typeof n){var r=e.find('[name="'+a+'"]');'"'==n.charAt(0)&&'"'==n.charAt(n.length-1)?FormEnhancer.utils.setFieldWithLabel(r,n.substring(1,n.length-1)):FormEnhancer.utils.setField(r,n)}else for(var i=0;i<n.length;i++){r=e.find('[name="'+a+'"]');FormEnhancer.utils.setField(r,n[i])}}}},adobeAnalytics:{ready:function(e,t){t.hasOwnProperty("adobeAnalytics")&&FormEnhancer.fn.submitProcess.beforeSubmit.add(e,function(){FormEnhancer.fn.adobeAnalytics.setDigitalDataFromForm(e),FormEnhancer.fn.adobeAnalytics.track(t.adobeAnalytics.track)})},setDigitalDataFromForm:function(e){"undefined"==typeof digitalData&&(digitalData={}),e.find(":input[data-fe-adobe-var]").each(function(){var e=$(this).attr("data-fe-adobe-var");digitalData[e]=""});for(var t=FormEnhancer.utils.getChosenElementsInForm(e),a=0;a<t.length;a++){var n=t[a].element.attr("data-fe-adobe-value");void 0===n&&(n=t[a].value);var r=t[a].element.attr("data-fe-adobe-var");void 0===r&&void 0===(r=t[a].element.parent().attr("data-fe-adobe-var"))||(digitalData.hasOwnProperty(r)&&""!=digitalData[r]?""!=n&&(digitalData[r]+="|"+n):digitalData[r]=n)}},track:function(e){"undefined"!=typeof _satellite&&void 0!==e&&_satellite.track(e)}},formMemory:{ready:function(e,t){t.hasOwnProperty("formMemory")&&FormEnhancer.utils.hasSessionStorage()&&(FormEnhancer.fn.formMemory.loadForm(e),e.find(":input").bind("change keyup paste",function(){FormEnhancer.fn.formMemory.saveForm(e)}))},saveForm:function(e){var t=e.serialize(),a=FormEnhancer.fn.formMemory.getFormKey(e);FormEnhancer.fn.formMemory.setMemory(a,t)},loadForm:function(e){var t=FormEnhancer.fn.formMemory.getFormKey(e),a=FormEnhancer.fn.formMemory.getMemoryAsObject(t);if(null!=a)for(n in a)a[n]&&FormEnhancer.utils.setField(e.find('[name="'+n+'"]'),a[n])},getFormKey:function(e){return"fe-"+location.protocol+"//"+location.host+location.pathname+"#"+e.attr("id")},getMemory:function(e){return sessionStorage.getItem(e)},getMemoryAsObject:function(e){var t=FormEnhancer.fn.formMemory.getMemory(e);return null===t||""==t?null:FormEnhancer.utils.queryStringToObject(t)},setMemory:function(e,t){sessionStorage.setItem(e,t)}},spamFilter:{ready:function(e,t){t.spamFilterTypes&&t.spamFilterTypes.forEach(function(t){"function"==typeof FormEnhancer.fn.spamFilter[t]?FormEnhancer.fn.spamFilter[t](e):console.log("SPAM filter method "+t+" does not exist in Form Enhancer. Could not initiate method.")})},invisibleReCaptcha:function(e){var t=document.createElement("script");if(t.innerHTML="var verifyCallback = function(val) { FormEnhancer.fn.spamFilter.verifyInvisibleReCaptchaCallback(val, '"+e.attr("id")+"'); };",$("head").append(t),$("#"+e.attr("id")+' button[type="submit"]').replaceWith('<button class="g-recaptcha btn btn--primary" data-sitekey="6LdJgToUAAAAAI3sQtlQds2qMOBTueQUOeFNt4WP" data-callback="verifyCallback">'+$("#"+e.attr("id")+' button[type="submit"]').text()+' <span class="fa fa-chevron-right"></span></button>'),!($('head script[src="https://www.google.com/recaptcha/api.js"]').length>0)){var a=document.createElement("script");a.type="text/javascript",a.src="https://www.google.com/recaptcha/api.js",$("head").append(a)}},verifyInvisibleReCaptchaCallback:function(e,t){$.post("/cwis/php_pages/webapps/marketing/forms/submit/recaptcha.php",{response:e,remoteip:$("#user-id").val(),type:"invisible"}).done(function(e){if(!0===(e=JSON.parse(e)).success)$("#"+t).submit(),grecaptcha.reset();else{$("#"+t+" .g-recaptcha").toggleClass("btn--primary","btn--disabled"),$("#"+t).prepend('<div id="form-error" class="alert alert--error">Sorry, we could not verify you that you are human. You can try again by pressing submit again after <span class="seconds">3</span> seconds. If you are still having issues, please try again later. We apologise for any inconvenience caused.</div>'),document.getElementById("form-error").scrollIntoView();var a=4,n=setInterval(function(){$("#form-error .seconds").html(--a)},1e3);setTimeout(function(){grecaptcha.reset(),$("#"+t+" .g-recaptcha").toggleClass("btn--primary","btn--disabled"),$("#form-error").fadeOut(500,function(){$(this).remove()}),clearInterval(n)},3750)}})},reCaptchaV2:function(e){var t=document.createElement("script");if(t.innerHTML="var verifyReCaptchaV2Callback = function(val) { FormEnhancer.fn.spamFilter.verifyReCaptchaV2Callback(val, '"+e.attr("id")+"'); };",$("head").append(t),$("#"+e.attr("id")+' button[type="submit"], button.grecaptcha').before('<div class="g-recaptcha" data-sitekey="6LfqsDoUAAAAAC0a78K5M1FUtC6z8hwMumSlx3A-" data-callback="verifyReCaptchaV2Callback"></div>'),$("#"+e.attr("id")+' button[type="submit"], button.grecaptcha').prop("disabled",!0),$("#"+e.attr("id")+' button[type="submit"], button.grecaptcha').addClass("btn--disabled"),!($('head script[src="https://www.google.com/recaptcha/api.js"]').length>0)){var a=document.createElement("script");a.type="text/javascript",a.src="https://www.google.com/recaptcha/api.js",$("head").append(a)}},verifyReCaptchaV2Callback:function(e,t){$.post("/cwis/php_pages/webapps/marketing/forms/submit/recaptcha.php",{response:e,remoteip:$("#user-id").val(),type:"reCaptchaV2"}).done(function(e){if(e=JSON.parse(e),console.log(e),!0===e.success)$("#"+t.attr("id")+' button[type="submit"], button.grecaptcha').prop("disabled",!1),$("#"+t.attr("id")+' button[type="submit"], button.grecaptcha').removeClass("btn--disabled");else{$("#"+t).prepend('<div id="form-error" class="alert alert--error">Sorry, we could not verify you that you are human. You can try again by pressing submit again after <span class="seconds">3</span> seconds. If you are still having issues, please try again later. We apologise for any inconvenience caused.</div>'),document.getElementById("form-error").scrollIntoView();var a=4,n=setInterval(function(){$("#form-error .seconds").html(--a)},1e3);setTimeout(function(){grecaptcha.reset(),$("#form-error").fadeOut(500,function(){$(this).remove()}),clearInterval(n)},3750)}})},honeypotMethod:function(e){$("#"+e.attr("id")+" button").before('<div class="fe-validate"><p class="col-6"><label for="mkt_validate">What is '+Math.floor(10*Math.random())+" + "+Math.floor(10*Math.random())+'?  <abbr title="Required">*</abbr></label><input id="mkt_validate" type="text" name="f:_validation" placeholder="Your answer" value=""></p></div>')},mathCaptcha:function(e){var t=document.createElement("script");t.type="text/javascript",t.src="/cwis/php_pages/webapps/marketing/resources/jquery/mathCaptcha/jquery.math-captcha.js",$("head").append(t),$("#"+e.attr("id")+" button").before('<div id="math-captcha" class="row"></div>'),$("#math-captcha").mathCaptcha({imgPath:"/cwis/php_pages/webapps/marketing/resources/jquery/mathCaptcha/img/",operation:"random",introText:'Please enter the answer to the equation <abbr title="Required">*</abbr>',successFunction:function(){$("#"+e.attr("id")+" button").prop("disabled",!1),$("#"+e.attr("id")+" button").removeClass("btn--disabled"),$(".math-captcha-error").remove()},failFunction:function(){$("#"+e.attr("id")+" button").prop("disabled",!0),$("#"+e.attr("id")+" button").addClass("btn--disabled"),$(".math-captcha-error").length<1&&$("#math-captcha").append("<p class='math-captcha-error'>That is not correct, try again.</p>")}})}},formLoader:{ready:function(e,t){console.log("loading..."),""!=t.formLoader.url&&""!=t.formLoader.placeholder||$.get(t.formLoader.url,function(e){$("#"+t.formLoader.placeholder).html(e)}).fail(function(){$("#"+t.formLoader.placeholder).html("<h1>Sorry! An error occurred while loading the form.</h1><p>We're looking into it and will have it fixed shortly. Please try again later.</p>")})}}},addStyle:function(){if(!($("#fe-style").length>0)){$("head").append('<style id="fe-style">.fe-hidden, .fe-hidden-step {display:none;}.fe-next-show {display:block !important;}form.fe-loading * {display:none;}@keyframes animated-ellipsis-1 { from { opacity: 0; } 25% { opacity: 1; } }@keyframes animated-ellipsis-2 { from { opacity: 0; } 50% { opacity: 1; } }@keyframes animated-ellipsis-3 { from { opacity: 0; } 75% { opacity: 1; } }@-webkit-keyframes animated-ellipsis-1 { from { opacity: 0; } 25% { opacity: 1; } }@-webkit-keyframes animated-ellipsis-2 { from { opacity: 0; } 50% { opacity: 1; } }@-webkit-keyframes animated-ellipsis-3 { from { opacity: 0; } 75% { opacity: 1; } }.animated-ellipsis span {animation: animated-ellipsis-1 0.5s infinite steps(1); -webkit-animation: animated-ellipsis-1 0.5s infinite steps(1);}.animated-ellipsis span:first-child + span {animation-name: animated-ellipsis-2;-webkit-animation-name: animated-ellipsis-2;}.animated-ellipsis span:first-child + span + span {animation-name: animated-ellipsis-3;-webkit-animation-name: animated-ellipsis-3;}</style>')}},prepare:function(e,t){try{FormEnhancer.addStyle(),$("#"+e).addClass("fe-loading").after('<p id="'+e+'-loading-message">Loading, please wait<span class="animated-ellipsis"><span>.</span><span>.</span><span>.</span></span></p>'),setTimeout(function(){var t=$('<span><br><br>It looks like this form is taking a long time to load. Please <a href="#" onclick="location.reload();">refresh the page</a> if the form does not appear soon.</span>');$("#"+e+"-loading-message").append(t),t.hide().fadeIn(1e3)},7e3),$(document).ready(function(a){FormEnhancer.enhance($("#"+e),t),$("#"+e).removeClass("fe-loading"),$("#"+e+"-loading-message").remove();var n=$(".validate-name"),r=$(".required");$("#"+e).find(n).attr("pattern","(^((\\w+(\\W|\\s){0,1})*)$)"),$("#"+e).find(n).attr("title","Please use only Valid Characters"),$("#"+e).find(r).attr("required",!0)})}catch(t){$("#"+e).removeClass("fe-loading"),$("#"+e+"-loading-message").remove()}},enhance:function(e,t){try{FormEnhancer.addStyle();var a=["prepareForms","enhanceJQuery","submitProcess","ckeditor","DMPersonalise","dynamicData","adobeAnalytics","ajaxform","validate","datepicker","combobox","clickToShow","step","showOrHide","preFill","formMemory","spamFilter"];void 0===t&&(t={});for(var n=0;n<a.length;n++)FormEnhancer.fn[a[n]].ready(e,t)}catch(e){}}};
