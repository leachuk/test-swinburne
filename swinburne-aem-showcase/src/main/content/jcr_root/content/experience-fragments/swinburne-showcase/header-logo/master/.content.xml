<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:sling="http://sling.apache.org/jcr/sling/1.0" xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
          jcr:primaryType="cq:Page">
    <jcr:content
            cq:tags="[]"
            cq:template="/conf/swinburne/settings/wcm/templates/swinburne-experience-fragment"
            cq:xfMasterVariation="{Boolean}true"
            jcr:primaryType="cq:PageContent"
            jcr:title="Header Logo"
            sling:resourceType="swinburne/components/template/experience-fragments/base/v1/xfpage">
        <article
                jcr:primaryType="nt:unstructured"
                sling:resourceType="swinburne/components/layout/article"
                componentId="article_container">
            <par
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="swinburne/components/layout/container">
                <embedsource_1
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="swinburne/components/content/embedsource"
                        componentId="embedsource_hbmenu"
                        html="&lt;button type=&quot;button&quot; component class=&quot;link   navbar-toggler  &quot; id=&quot;link10&quot; data-modules=&quot;navtoggler&quot;>&#xd;&#xa; &lt;span>&lt;/span>&#xd;&#xa; &lt;span>&lt;/span>&#xd;&#xa; &lt;span>&lt;/span>&#xd;&#xa;&lt;/button>"/>
                <embedsource_2
                        jcr:lastModifiedBy="admin"
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="swinburne/components/content/embedsource"
                        componentId="embedsource_1"
                        html="&lt;script src=&quot;https://www.swinburne.edu.au/cwis/php_pages/webapps/marketing/resources/form-enhancer/jquery.validate.min.js&quot;>&lt;/script>&#xd;&#xa;  &lt;script src=&quot;https://www.swinburne.edu.au/cwis/php_pages/webapps/marketing/resources/jquery/jquery-ui/jquery.easy-autocomplete.min.js&quot;>&lt;/script>&#xd;&#xa;  &lt;script src=&quot;https://www.swinburne.edu.au/cwis/php_pages/webapps/marketing/resources/form-enhancer/form-enhancer.min.js&quot;>&lt;/script>&#xd;&#xa; &#xd;&#xa;&#xd;&#xa;&lt;script>&#xd;&#xa;FormEnhancer.prepare(&quot;mkt-form&quot;,{&#xd;&#xa;  validate: true,&#xd;&#xa; // spamFilterTypes: ['invisibleReCaptcha']&#xd;&#xa;});&#xd;&#xa;&lt;/script>&#xd;&#xa;&lt;script>&#xd;&#xa;&#xd;&#xa;$(document).ready(function(e) {&#xd;&#xa;&#xd;&#xa;  // This all currently lives here because it requires data prefilled from PHP. When I make it available via AJAX or other means some day, it can be it's own file&#xd;&#xa;&#xd;&#xa;  // START LOAD AJAX DATA&#xd;&#xa;  function createSelectFromTags(tags) {&#xd;&#xa;    var select_string = '&lt;option value=&quot;&quot;>Select an option&lt;/option>';&#xd;&#xa;    for (idx in tags) {&#xd;&#xa;      select_string += '&lt;option value=&quot;'+tags[idx].tag+'&quot;>'+tags[idx].label+'&lt;/option>';&#xd;&#xa;    }&#xd;&#xa;    return select_string;&#xd;&#xa;  }&#xd;&#xa;&#xd;&#xa;  function setBdTags() {&#xd;&#xa;    $.getJSON(&quot;//www.swinburne.edu.au/cwis/php_pages/webapps/marketing/forms/public/tags/?type=&quot;+($('#mkt_residency_international').is(':checked') ? 'int' : '')+&quot;bd&quot;,function(data) {&#xd;&#xa;      $('#mkt_bestDescribes').html(createSelectFromTags(data));&#xd;&#xa;      $('input[name=&quot;mkt_bestDescribes&quot;]').val('');&#xd;&#xa;    });&#xd;&#xa;  }&#xd;&#xa;&#xd;&#xa;  function setHqTags() {&#xd;&#xa;    $.getJSON(&quot;//www.swinburne.edu.au/cwis/php_pages/webapps/marketing/forms/public/tags/?type=&quot;+($('#mkt_residency_international').is(':checked') ? 'int' : '')+&quot;hq&quot;,function(data) {&#xd;&#xa;      $('#mkt_highestQualification').html(createSelectFromTags(data));&#xd;&#xa;      $('input[name=&quot;mkt_highestQualification&quot;]').val('');&#xd;&#xa;    });&#xd;&#xa;  }&#xd;&#xa;&#xd;&#xa;  $.getJSON(&quot;//www.swinburne.edu.au/cwis/php_pages/webapps/marketing/lists/api/?list=countries_c1&amp;callback=?&quot;,function(data) {&#xd;&#xa;    if(data.success) {&#xd;&#xa;      var selectHtml = '&lt;option value=&quot;&quot;>Select your country of residence&lt;/option>';&#xd;&#xa;      for (option in data.response) {&#xd;&#xa;        selectHtml += '&lt;option value=&quot;'+data.response[option].val+'&quot; data-deflect=&quot;'+(data.response[option].deflect || false)+'&quot; data-malaysia-promo=&quot;'+(data.response[option].malaysiaPromo || false)+'&quot;>'+data.response[option].val+'&lt;/option>';&#xd;&#xa;      }&#xd;&#xa;      $('#mkt_countryOfResidence').html(selectHtml);&#xd;&#xa;      $.getJSON(&quot;//www.swinburne.edu.au/cwis/php_pages/webapps/marketing/lists/json-files/countrycodes.json&quot;,function(data) {&#xd;&#xa;        var countries_list = $.map(data, function(value, index) {return [value];});&#xd;&#xa;        var countryList = '';&#xd;&#xa;&#xd;&#xa;        var options = $('#mkt_countryOfResidence option');&#xd;&#xa;        var countries = $.map(options ,function(option) {&#xd;&#xa;          if (option.value != &quot;&quot; &amp;&amp; option.value != &quot;61&quot;)&#xd;&#xa;            return option.value;&#xd;&#xa;        });&#xd;&#xa;        for (c in countries_list) {&#xd;&#xa;          if (countries.indexOf(countries_list[c].name) > -1)&#xd;&#xa;            countryList += '&lt;option value=&quot;'+countries_list[c].code+'&quot;'+(countries_list[c].code == 61 ? ' selected' : '')+'>+'+countries_list[c].code+' ('+countries_list[c].name+')&lt;/option>';&#xd;&#xa;        }&#xd;&#xa;        $('#mkt_countryCode').html(countryList);&#xd;&#xa;        //  $('#mkt_countryCode + span.custom-combobox').css({ 'width' : '35%', 'min-width' : '50px', 'display' : 'inline-block'});&#xd;&#xa;&#xd;&#xa;      });&#xd;&#xa;    }&#xd;&#xa;  });&#xd;&#xa;&#xd;&#xa;  $.getJSON(&quot;//www.swinburne.edu.au/cwis/php_pages/webapps/marketing/coursesearch-v2/system/api/json/?q=study_areas&quot;,function(data) {&#xd;&#xa;    if(data.success) {&#xd;&#xa;      var selectHtml = '&lt;option value=&quot;&quot;>Select a study area&lt;/option>&lt;option value=&quot;all&quot;>All areas&lt;/option>';&#xd;&#xa;      for (option in data.response) {&#xd;&#xa;        selectHtml += '&lt;option data-id=&quot;'+data.response[option].Id+'&quot; value=&quot;'+data.response[option].Name+'&quot;>'+data.response[option].Name+'&lt;/option>';&#xd;&#xa;      }&#xd;&#xa;      $('#mkt_areaOfInterest').html(selectHtml);&#xd;&#xa;    } else {&#xd;&#xa;      console.log('Something went wrong');&#xd;&#xa;    }&#xd;&#xa;  });&#xd;&#xa;&#xd;&#xa;  var queryString = &quot;?q=all_courses&amp;ResidencyId=1&amp;AccreditationStatusId=1&amp;StudyAreaId=&amp;c=read,write&amp;callback=?&quot;;&#xd;&#xa;  $.getJSON(&quot;//www.swinburne.edu.au/cwis/php_pages/webapps/marketing/coursesearch-v2/system/api/json/&quot;+queryString,function(data) {&#xd;&#xa;    if(data.success) {&#xd;&#xa;      var selectHtml = '&lt;option value=&quot;&quot;>Select a course&lt;/option>';&#xd;&#xa;      for (option in data.response.SearchResultsList) {&#xd;&#xa;        var onlineCourse = data.response.SearchResultsList[option].Campuses.length == 1 &amp;&amp; data.response.SearchResultsList[option].Campuses[0] == &quot;Online&quot;;&#xd;&#xa;        selectHtml += '&lt;option value=&quot;'+data.response.SearchResultsList[option].CourseCode+(onlineCourse ? &quot;_online&quot; : &quot;&quot;)+'&quot;>'+data.response.SearchResultsList[option].CourseTitle+' ('+data.response.SearchResultsList[option].CourseCode+')'+'&lt;/option>';&#xd;&#xa;      }&#xd;&#xa;      $('#mkt_courseOfInterest').html(selectHtml);&#xd;&#xa;    } else {&#xd;&#xa;      console.log('Something went wrong');&#xd;&#xa;    }&#xd;&#xa;  });&#xd;&#xa;&#xd;&#xa;  $.getJSON(&quot;//www.swinburne.edu.au/cwis/php_pages/webapps/marketing/lists/api/?list=schools&amp;onlyvalues=true&amp;callback=?&quot;,function(data) {&#xd;&#xa;    if(data.success) {&#xd;&#xa;      var schoolList = [];&#xd;&#xa;      for (item in data.response) {&#xd;&#xa;        schoolList.push(data.response[item]);&#xd;&#xa;      }&#xd;&#xa;&#xd;&#xa;      var options = {&#xd;&#xa;        data: schoolList,&#xd;&#xa;        list: {&#xd;&#xa;          match: {&#xd;&#xa;            enabled: true&#xd;&#xa;          }&#xd;&#xa;        }&#xd;&#xa;      };&#xd;&#xa;      $('#mkt_secondarySchool').easyAutocomplete(options);&#xd;&#xa;&#xd;&#xa;    }&#xd;&#xa;  });&#xd;&#xa;&#xd;&#xa;  /** END LOAD AJAX DATA **/&#xd;&#xa;&#xd;&#xa;  /** START FIELD UPDATING FUNCTIONS **/&#xd;&#xa;&#xd;&#xa;  deflect = function() {&#xd;&#xa;    if ($('#mkt_countryOfResidence option:selected').attr('data-deflect') == &quot;true&quot;) {&#xd;&#xa;      $('.deflection_fields').hide();&#xd;&#xa;&#xd;&#xa;      if ($('#mkt_countryOfResidence option:selected').attr('data-malaysia-promo') == &quot;true&quot;) {&#xd;&#xa;        $('#malaysia_promo_note').show();&#xd;&#xa;        $('#deflection_note').hide();&#xd;&#xa;      }else{&#xd;&#xa;        $('#deflection_note').show();&#xd;&#xa;        $('#malaysia_promo_note').hide();&#xd;&#xa;      }&#xd;&#xa;    } else {&#xd;&#xa;      $('#deflection_note').hide();&#xd;&#xa;&#xd;&#xa;      if ($('#mkt_countryOfResidence option:selected').attr('data-malaysia-promo') == &quot;true&quot;) {&#xd;&#xa;        $('#malaysia_promo_note').show();&#xd;&#xa;        $('.deflection_fields').hide();&#xd;&#xa;      }else{&#xd;&#xa;        $('#malaysia_promo_note').hide();&#xd;&#xa;        $('.deflection_fields').show();&#xd;&#xa;      }&#xd;&#xa;    }&#xd;&#xa;  }&#xd;&#xa;&#xd;&#xa;  updateCourseList = function(areaOfInterest) {&#xd;&#xa;    var residency = $('#mkt_residency_international').is(':checked') ? '2' : '1';&#xd;&#xa;&#xd;&#xa;    var currentVal = $('#mkt_areaOfInterest option[value=&quot;'+(typeof areaOfInterest !== &quot;undefined&quot; ? areaOfInterest : $('#mkt_areaOfInterest + span.custom-combobox input').val())+'&quot;]').data('id');&#xd;&#xa;    $('#mkt_courseOfInterest + span.custom-combobox input').val('Loading filtered courses...');&#xd;&#xa;    $('#mkt_courseOfInterest + span.custom-combobox input').attr('disabled', 'disabled');&#xd;&#xa;    var classSave = $('#mkt_courseOfInterest + span.custom-combobox a span:first').attr('class');&#xd;&#xa;    $('#mkt_courseOfInterest + span.custom-combobox a span:first').attr('class', 'ui-button-icon ui-icon fa fa-refresh fa-spin fa-fw');&#xd;&#xa;    var queryString = &quot;?q=all_courses&amp;ResidencyId=&quot;+residency+&quot;&amp;AccreditationStatusId=1&quot;+(typeof currentVal === &quot;undefined&quot; ? '' : '&amp;StudyAreaId='+currentVal)+&quot;&amp;c=read,write&amp;callback=?&quot;;&#xd;&#xa;    $.getJSON(&quot;//www.swinburne.edu.au/cwis/php_pages/webapps/marketing/coursesearch-v2/system/api/json/&quot;+queryString,function(data) {&#xd;&#xa;      if(data.success) {&#xd;&#xa;        var selectHtml = '&lt;option value=&quot;&quot;>Select course&lt;/option>';&#xd;&#xa;        for (option in data.response.SearchResultsList) {&#xd;&#xa;          selectHtml += '&lt;option value=&quot;'+data.response.SearchResultsList[option].CourseCode+'&quot;>'+data.response.SearchResultsList[option].CourseTitle+' ('+data.response.SearchResultsList[option].CourseCode+')'+'&lt;/option>';&#xd;&#xa;        }&#xd;&#xa;        $('#mkt_courseOfInterest').html(selectHtml);&#xd;&#xa;&#xd;&#xa;      } else {&#xd;&#xa;        console.log('Something went wrong');&#xd;&#xa;      }&#xd;&#xa;      $('#mkt_courseOfInterest + span.custom-combobox input').val('');&#xd;&#xa;      $('#mkt_courseOfInterest + span.custom-combobox input').removeAttr('disabled');&#xd;&#xa;      $('#mkt_courseOfInterest + span.custom-combobox a span:first').attr('class', classSave);&#xd;&#xa;    });&#xd;&#xa;  }&#xd;&#xa;&#xd;&#xa;  changeResidency = function($residency) {&#xd;&#xa;    setBdTags();&#xd;&#xa;    setHqTags();&#xd;&#xa;&#xd;&#xa;    updateCourseList();&#xd;&#xa;  }&#xd;&#xa;&#xd;&#xa;  // END FIELD UPDATING FUNCTIONS&#xd;&#xa;&#xd;&#xa;  // START EVENT LISTENERS&#xd;&#xa;&#xd;&#xa;  $('#mkt_countryOfResidence').change(function() {&#xd;&#xa;    deflect();&#xd;&#xa;  });&#xd;&#xa;&#xd;&#xa;  $('#mkt_areaOfInterest').change(function(event, ui) {&#xd;&#xa;    updateCourseList(event.currentTarget.options[event.currentTarget.options.selectedIndex].value);&#xd;&#xa;  });&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;  $('#mkt_residency_international, #mkt_residency_local').change(function() {&#xd;&#xa;    changeResidency($('#mkt_residency_international').is(':checked') ? 'international' : 'local');&#xd;&#xa;  });&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;  // END EVENT LISTENERS&#xd;&#xa;&#xd;&#xa;  // Page has loaded all the other stuff, time to finalise data for entry&#xd;&#xa;&#xd;&#xa;  deflect();&#xd;&#xa;  changeResidency($('#mkt_residency_international').is(':checked') ? 'international' : 'local');&#xd;&#xa;&#xd;&#xa;  var comboboxFields = ['#mkt_areaOfInterest', '#mkt_courseOfInterest', '#mkt_bestDescribes', '#mkt_highestQualification', '#mkt_countryCode', '#mkt_countryOfResidence', '#mkt_dayChoice']&#xd;&#xa;  $(comboboxFields.join(',')).combobox();&#xd;&#xa;&#xd;&#xa;  var attrs_to_match = ['placeholder', 'required', 'title', 'aria-label'];&#xd;&#xa;&#xd;&#xa;  for (attr in attrs_to_match) {&#xd;&#xa;    $('span.custom-combobox input').attr(attrs_to_match[attr],&#xd;&#xa;      function(i, val) {&#xd;&#xa;        return $($('span.custom-combobox').get(i)).prev('select').attr(attrs_to_match[attr]);&#xd;&#xa;      }&#xd;&#xa;    );&#xd;&#xa;  }&#xd;&#xa;&#xd;&#xa;  $('span.custom-combobox input').attr('name',&#xd;&#xa;    function(i, val) {&#xd;&#xa;      return $($('span.custom-combobox').get(i)).prev('select').attr('id');&#xd;&#xa;    }&#xd;&#xa;  );&#xd;&#xa;&#xd;&#xa;// Javascript is the worst and doesn't like to obey order of code, so for some&#xd;&#xa;// reason the values aren't set yet 'cause it's slow and f* you, so this is&#xd;&#xa;// making us wait 1 second so it can pull itself together and give us what we want.&#xd;&#xa;  setTimeout(function() {&#xd;&#xa;    comboboxFields.forEach(function(field) {&#xd;&#xa;      if ($(field).val()) {&#xd;&#xa;        var textToShow = $(field).find(&quot;:selected&quot;).text();&#xd;&#xa;        $(field).parent().find(&quot;span&quot;).find(&quot;input&quot;).val(textToShow);&#xd;&#xa;      }&#xd;&#xa;    });&#xd;&#xa;  }, 1000);&#xd;&#xa;&#xd;&#xa;  // AND WE'RE DONE, TIME TO FILL SOME FORMS!&#xd;&#xa;&#xd;&#xa;});&#xd;&#xa;&#xd;&#xa;//&#xd;&#xa;// prepare form&#xd;&#xa;//&#xd;&#xa;&#xd;&#xa;FormEnhancer.prepare(&quot;mkt-form&quot;,{&#xd;&#xa;  validate: true,&#xd;&#xa;  // spamFilterTypes: ['invisibleReCaptcha']&#xd;&#xa;});&lt;/script>"/>
                <embedsource_3
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="swinburne/components/content/embedsource"
                        componentId="embedsource_logo"
                        html="&lt;div class=&quot;aem-Grid&quot;>&#xd;&#xa;      &lt;div component class=&quot;contentblock parsys    &quot; id=&quot;&quot; data-modules=&quot;parallaximage&quot;>&#xd;&#xa;        &lt;div component class=&quot;image imageOnly  theme--image-headerlogo   &quot; id=&quot;image2&quot; data-modules=&quot;&quot;>&#xd;&#xa;          &lt;picture>&#xd;&#xa;            &lt;!--[if IE 9]>&lt;video style=&quot;display: none;&quot;>&lt;![endif]-->&#xd;&#xa;            &lt;source srcset=&quot;&quot; media=&quot;(min-width: 1px) and (max-width: 72px)&quot;>&#xd;&#xa;            &lt;source srcset=&quot;&quot; media=&quot;(min-width: 73px) and (max-width: 210px)&quot;>&#xd;&#xa;            &lt;source srcset=&quot;&quot; media=&quot;(min-width: 211px) and (max-width: 478px)&quot;>&#xd;&#xa;            &lt;source srcset=&quot;&quot; media=&quot;(min-width: 478px)&quot;>&#xd;&#xa;            &lt;!--[if IE 9]>&lt;/video>&lt;![endif]-->&#xd;&#xa;            &lt;img src=&quot;https://www.swinburne.edu.au/infoevening/_assets/textures/logo.png&quot; alt=&quot;Swinburne&quot; title=&quot;AEM.Design Pattern Library&quot;>&#xd;&#xa;          &lt;/picture>&#xd;&#xa;        &lt;/div>&#xd;&#xa;&#xd;&#xa;        &lt;div component class=&quot;image imageOnly  theme--image-headerlogo   &quot; id=&quot;image2&quot; data-modules=&quot;&quot;>&#xd;&#xa;          &lt;picture>&#xd;&#xa;            &lt;!--[if IE 9]>&lt;video style=&quot;display: none;&quot;>&lt;![endif]-->&#xd;&#xa;            &lt;source srcset=&quot;&quot; media=&quot;(min-width: 1px) and (max-width: 72px)&quot;>&#xd;&#xa;            &lt;source srcset=&quot;&quot; media=&quot;(min-width: 73px) and (max-width: 210px)&quot;>&#xd;&#xa;            &lt;source srcset=&quot;&quot; media=&quot;(min-width: 211px) and (max-width: 478px)&quot;>&#xd;&#xa;            &lt;source srcset=&quot;&quot; media=&quot;(min-width: 478px)&quot;>&#xd;&#xa;            &lt;!--[if IE 9]>&lt;/video>&lt;![endif]-->&#xd;&#xa;            &lt;img src=&quot;https://www.swinburne.edu.au/infoevening/_assets/textures/logo.png&quot; alt=&quot;Swinburne&quot; title=&quot;AEM.Design Pattern Library&quot;>&#xd;&#xa;          &lt;/picture>&#xd;&#xa;        &lt;/div>&#xd;&#xa;&#xd;&#xa;      &lt;/div>&#xd;&#xa;&#xd;&#xa;    &lt;/div>"/>
                <pagelist
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="swinburne/components/lists/pagelist"
                        componentId="pagelist_navigation"
                        componentTheme="[swinburne:component-style-theme/lists/navlist/navbar/nav]"
                        detailsBadge="default"
                        listFrom="static"
                        orderBy="jcr:title"
                        pages="[/content/swinburne-showcase/en/pages/home,/content/swinburne-showcase/en/pages/juggling-life-and-uni,/content/swinburne-showcase/en/pages/find-a-course,/content/swinburne-showcase/en/pages/apply-now,/content/swinburne-showcase/en/pages/contact-us]"
                        tagsMatch="any">
                    <badgeThumbnail
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="aemdesign/components/media/image"/>
                </pagelist>
                <embedsource_4
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="swinburne/components/content/embedsource"
                        componentId="embedsource_hbmenu"
                        html="&lt;button type=&quot;button&quot; component class=&quot;link   navbar-toggler  &quot; id=&quot;link10&quot; data-modules=&quot;navtoggler&quot;>&#xd;&#xa; &lt;span>&lt;/span>&#xd;&#xa; &lt;span>&lt;/span>&#xd;&#xa; &lt;span>&lt;/span>&#xd;&#xa;&lt;/button>"/>
            </par>
        </article>
    </jcr:content>
</jcr:root>
